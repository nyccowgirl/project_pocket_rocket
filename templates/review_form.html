{% extends 'base.html' %}
{% block content %}

<h1>Review</h1>

<form action='/review/{{ biz_id }}' method='POST'>
  Rating:<select name='rating'>
    <option value='1'>1</option>
    <option value='2'>2</option>
    <option value='3'>3</option>
    <option value='4'>4</option>
    <option value='5'>5</option>
  </select><br>
  <br>
  Review:<br>
  <textarea id='text' type='text' rows='5' cols='100' name='review' maxlength='5000'></textarea><br>
    <div id='chars'></div>
  <input type='submit'>
</form>

{% endblock %}

<script src='https://code.jquery.com/jquery-3.2.1.min.js'></script>
<!-- <script src='buddy.js'></script> -->
<script>

// <!-- FIXME: Not sure if the prior two lines are needed. -->
$('#text').keyup(function() {
  let max = 5000;
  let len = $(this).val().length;
  if (len >= max) {
    $('#chars').html(max + 'characters left');
  } else {
    let charNum = max - len;
    $('#chars').html(charNum + ' characters left');
  }
})
</script>